{"version":3,"sources":["webpack:///./src/pages/index.js"],"names":["Index","props","console","log","state","data","articles","indexPosts","nodes","articleTotal","total","totalCount","projectList","projectsTotal","componentDidMount","ReactDOM","findDOMNode","this","getRootNode","getElementsByTagName","className","render","class","columns","columns-s","columns-xs","order","span","span-s","href","map","proj","i","list","key","toString","frontmatter","slug","fields","title","excerpt","date","length","order-s","order-xs","post","style","marginTop","marginBottom","dateTime","span-xs","to","Component"],"mappings":"4NAMqBA,E,YAEnB,WAAYC,GAAQ,IAAD,SACjB,cAAMA,IAAN,MACKA,MAAQA,EACbC,QAAQC,IAAIF,GACZ,EAAKG,MAAQ,CACXC,KAAMJ,EAAMI,KACZC,SAAUL,EAAMI,KAAKE,WAAWC,MAChCC,aAAcR,EAAMI,KAAKK,MAAMC,WAC/BC,YAAa,GACbC,cAAe,GATA,E,4CAanBC,kBAAA,WACEC,IAASC,YAAYC,MAAMC,cAAcC,qBAAqB,QAAQ,GAAGC,UAAY,Q,EAGvFC,OAAA,WACE,OACE,6BACE,kBAAC,IAAD,MACA,4BAAQC,MAAM,OAAOC,QAAQ,IAAIC,YAAU,IAAIC,aAAW,KACxD,4BAAQC,MAAM,MAAMC,KAAK,IAAIC,SAAO,KAClC,oDAEF,4BAAQF,MAAM,KAAKJ,MAAM,OAAOK,KAAK,IAAIC,SAAO,KAC9C,yBAAKR,UAAU,UACb,uBAAGS,KAAK,KAAR,KACA,uBAAGA,KAAK,WAAR,SACA,uBAAGA,KAAK,cAAR,YACA,uBAAGA,KAAK,UAAR,QACA,uBAAGA,KAAK,aAAR,aAIJ,4BAAQF,KAAK,KACX,wBAAIP,UAAU,cACZ,uBAAGS,KAAK,cAAR,aAGDZ,KAAKb,MAAMQ,YAAYkB,KAAI,SAACC,EAAMC,EAAGC,GACpC,OAAQ,yBAAKC,IAAKF,EAAEG,UAClB,4BAAI,uBAAGN,KAAME,EAAKK,YAAYC,MAAQN,EAAKO,OAAOD,MAAON,EAAKK,YAAYG,QAC1E,2BAAIR,EAAKS,SACT,6BACA,2BAAIT,EAAKK,YAAYK,UAGzB,4BACE,uBAAGZ,KAAK,aAAaT,UAAU,UAA/B,WAAoDH,KAAKb,MAAMQ,YAAY8B,OAA3E,iBAIJ,4BAAQC,UAAQ,KAAKC,WAAS,KAAKjB,KAAK,KACtC,wBAAIP,UAAU,cACZ,uBAAGS,KAAK,aAAa,qBAEtBZ,KAAKb,MAAME,SAASwB,KAAI,SAACe,EAAMb,EAAGC,GACjC,OACE,yBAAKC,IAAKF,EAAEG,YACV,wBAAIW,MAAO,CAAEC,UAAU,OAASC,aAAc,SAC5C,uBAAGnB,KAAMgB,EAAKT,YAAYC,MAAQQ,EAAKP,OAAOD,KAAMjB,UAAU,gBAAgByB,EAAKT,YAAYG,QAEjG,2BACGM,EAAKL,QACN,0BAAMS,SAAS,IAAIJ,EAAKT,YAAYK,WAO5C,wBAAIK,MAAO,CAACC,UAAW,SACrB,uBAAGlB,KAAK,YAAYT,UAAU,UAA9B,cAAsDH,KAAKb,MAAME,SAASoC,OAA1E,iBAIJ,4BAAQpB,MAAM,QAAQqB,UAAQ,KAAKC,WAAS,KAAKjB,KAAK,IAAIC,SAAO,IAAIsB,UAAQ,OAC3E,2BAAI,0GACJ,yBAAK9B,UAAU,eACb,kBAAC,OAAD,CAAM+B,GAAG,aAAT,wB,GAlFqBC","file":"component---src-pages-index-js-6f396b19b60742d90dc7.js","sourcesContent":["import { graphql, Link } from 'gatsby'\nimport React, { Component } from 'react'\nimport ReactDOM from 'react-dom'\nimport SEO from '../components/seo';\n\n\nexport default class Index extends Component {\n\n  constructor(props) {\n    super(props)\n    this.props = props\n    console.log(props)\n    this.state = {\n      data: props.data,\n      articles: props.data.indexPosts.nodes,\n      articleTotal: props.data.total.totalCount,\n      projectList: [],\n      projectsTotal: 0\n    }\n  }\n\n  componentDidMount() {\n    ReactDOM.findDOMNode(this).getRootNode().getElementsByTagName('html')[0].className = 'home';\n  }\n\n  render() {\n    return (\n      <div>\n        <SEO></SEO>\n        <r-grid class=\"main\" columns=\"6\" columns-s=\"4\" columns-xs=\"2\">\n          <r-cell order=\"-10\" span=\"4\" span-s=\"2\">\n            <h1>Hello，I`m Panda 张向北</h1>\n          </r-cell>\n          <r-cell order=\"-9\" class=\"menu\" span=\"2\" span-s=\"2\">\n            <div className=\"focus0\">\n              <a href=\"/\">●</a>\n              <a href=\"/about/\">About</a>\n              <a href=\"/projects/\">Projects</a>\n              <a href=\"/work/\">Work</a>\n              <a href=\"/archive/\">Archive</a>\n            </div>\n          </r-cell>\n          {/* projectList */}\n          <r-cell span=\"2\">\n            <h2 className=\"margin-b-4\">\n              <a href=\"/projects/\">Projects</a>\n            </h2>\n            {/* Index projectList */}\n            {this.state.projectList.map((proj, i, list) => {\n              return (<div key={i.toString}>\n                <h3><a href={proj.frontmatter.slug || proj.fields.slug}>{proj.frontmatter.title}</a></h3>\n                <p>{proj.excerpt}</p>\n                <br></br>\n                <p>{proj.frontmatter.date}</p>\n              </div>)\n            })}\n            <h3>\n              <a href=\"/projects/\" className=\"dimmed\">{`See all ${this.state.projectList.length} projects →`}</a>\n            </h3>\n          </r-cell>\n          {/* Index posts list */}\n          <r-cell order-s=\"-1\" order-xs=\"-1\" span=\"2\">\n            <h2 className=\"margin-b-4\">\n              <a href=\"/archive/\">{'Thoughts & ideas'}</a>\n            </h2>\n            {this.state.articles.map((post, i, list) => {\n              return (\n                <div key={i.toString()}>\n                  <h4 style={{ marginTop: `20px`, marginBottom: '10px' }}>\n                    <a href={post.frontmatter.slug || post.fields.slug} className=\"post-excerpt\">{post.frontmatter.title}</a>\n                  </h4>\n                  <p>\n                    {post.excerpt}\n                    <time dateTime=\"\">{post.frontmatter.date}</time>\n                  </p>\n                </div>\n              )\n            })}\n\n\n            <h3 style={{marginTop: '20px'}}>\n              <a href=\"/archive/\" className=\"dimmed\">{`Browse all ${this.state.articles.length} articles →`}</a>\n            </h3>\n          </r-cell>\n          {/* self Intro */}\n          <r-cell class=\"intro\" order-s=\"-2\" order-xs=\"-2\" span=\"2\" span-s=\"3\" span-xs=\"row\">\n            <p>{'I’m a Chinese he/him living in ShenZhen, China. Software is the medium through which I express myself.'}</p>\n            <div className=\"quick-links\">\n              <Link to=\"/archive/\">Recent Articles</Link>\n            </div>\n          </r-cell>\n        </r-grid>\n      </div >\n    )\n  }\n}\n\nexport const pageQuery = graphql`\n{\n  indexPosts: allMarkdownRemark(filter: {frontmatter: {draft: {ne: true}, showInIndex: {eq: true}}}, sort: {order: ASC, fields: frontmatter___date}, limit: 5) {\n    nodes {\n      excerpt\n      frontmatter {\n        date(formatString: \"MMMM YYYY\")\n        title\n        slug\n      }\n      fields {\n        slug\n      }\n    }\n  }\n  total: allMarkdownRemark(filter: {frontmatter: {draft: {ne: true}}}) {\n    totalCount\n  }\n}\n`"],"sourceRoot":""}